<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <title>闭包的生命周期</title>
    </head>
    <body>
        <!--
            1. 产生: 在嵌套内部函数定义执行完时就产生了(不是在调用)
            2. 死亡: 在嵌套的内部函数成为垃圾对象时
        -->
        <script type="text/javascript">
            function fun1() {
                // 此处闭包已经产生（因为函数提升）
                var a = 3;
                function fun2() {
                    a++;
                    console.log(a);
                }
                return fun2;
            }
            var f = fun1();
            f();
            f();
            f = null; // 此时闭包对象死亡，因为存放闭包的对象为 null 了。如果没有 f 这样一个对象去存放闭包，那么闭包在执行完毕后就会死亡
        </script>
    </body>
</html>
